{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deepz\\\\Desktop\\\\app-academia\\\\app\\\\src\\\\components\\\\Menu.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport MenuButton from \"./MenuButton\";\nimport axios from \"axios\";\nimport AlertToast from \"./AlertToast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Menu = ({\n  handleButtonClick\n}) => {\n  _s();\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState();\n  const [toastStatus, setToastStatus] = useState();\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    axios.post(\"/api/logout\").then(() => {\n      // Navigate to the login page after successful logout\n      navigate(\"/login\");\n    }).catch(error => {\n      console.error(\"Error during logout:\", error);\n    });\n  };\n  const testConn = () => {\n    axios.get(\"/api/protected\").then(response => {\n      setToastMessage(response.data.message);\n      setToastStatus(response.status);\n      setShowToast(true);\n    }).catch(error => {\n      // Se nao autorizado(401) redirect para o login\n      if (error.response.status == 401) {\n        //navigate(\"/login\")\n        console.log(error);\n        navigate(\"/login\", {\n          state: {\n            error: error.response.data.message,\n            status: error.response.status\n          }\n        });\n      }\n    });\n  };\n  useEffect(() => {\n    if (showToast) {\n      const timer = setTimeout(() => {\n        setShowToast(false);\n      }, 5000); // Change this to set the duration for which the toast is visible\n\n      return () => clearTimeout(timer); // This will clear the timer if the component is unmounted before the timer finishes\n    }\n  }, [showToast]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showToast ? /*#__PURE__*/_jsxDEV(AlertToast, {\n      message: toastMessage,\n      status: toastStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full w-full bg-transparent flex flex-row justify-center items-center space-x-12\",\n      children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n        title: \"Utilizadores\",\n        description: \"Mostrar utilizadores\",\n        handleButtonClick: handleButtonClick,\n        menu: \"user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuButton, {\n        title: \"Atividades\",\n        description: \"Mostrar atividades\",\n        handleButtonClick: handleButtonClick,\n        menu: \"atividades\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuButton, {\n        title: \"Perfil\",\n        description: \"Ver o seu Perfil\",\n        handleButtonClick: handleButtonClick,\n        menu: \"profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: testConn,\n        children: \"TestConn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Menu, \"kEbX7xnBv7hhHukMh66bTseKEaI=\", false, function () {\n  return [useNavigate];\n});\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","MenuButton","axios","AlertToast","jsxDEV","_jsxDEV","Fragment","_Fragment","Menu","handleButtonClick","_s","showToast","setShowToast","toastMessage","setToastMessage","toastStatus","setToastStatus","navigate","handleLogout","post","then","catch","error","console","testConn","get","response","data","message","status","log","state","timer","setTimeout","clearTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","className","title","description","menu","onClick","_c","$RefreshReg$"],"sources":["C:/Users/deepz/Desktop/app-academia/app/src/components/Menu.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport MenuButton from \"./MenuButton\";\r\nimport axios from \"axios\";\r\nimport AlertToast from \"./AlertToast\";\r\n\r\nconst Menu = ({ handleButtonClick }) => {\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState();\r\n  const [toastStatus, setToastStatus] = useState();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    axios\r\n      .post(\"/api/logout\")\r\n      .then(() => {\r\n        // Navigate to the login page after successful logout\r\n        navigate(\"/login\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error during logout:\", error);\r\n      });\r\n  };\r\n\r\n  const testConn = () => {\r\n    axios\r\n      .get(\"/api/protected\")\r\n      .then((response) => {\r\n        setToastMessage(response.data.message);\r\n        setToastStatus(response.status);\r\n        setShowToast(true);\r\n      })\r\n      .catch((error) => {\r\n        // Se nao autorizado(401) redirect para o login\r\n        if (error.response.status == 401) {\r\n          //navigate(\"/login\")\r\n          console.log(error);\r\n          navigate(\"/login\", {\r\n            state: {\r\n              error: error.response.data.message,\r\n              status: error.response.status,\r\n            },\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowToast(false);\r\n      }, 5000); // Change this to set the duration for which the toast is visible\r\n\r\n      return () => clearTimeout(timer); // This will clear the timer if the component is unmounted before the timer finishes\r\n    }\r\n  }, [showToast]);\r\n  return (\r\n    <>\r\n      {showToast ? (\r\n          <AlertToast message={toastMessage} status={toastStatus} />\r\n        ) : null}\r\n      <div className=\"h-full w-full bg-transparent flex flex-row justify-center items-center space-x-12\">\r\n        \r\n        <MenuButton\r\n          title=\"Utilizadores\"\r\n          description=\"Mostrar utilizadores\"\r\n          handleButtonClick={handleButtonClick}\r\n          menu=\"user\"\r\n        />\r\n        <MenuButton\r\n          title=\"Atividades\"\r\n          description=\"Mostrar atividades\"\r\n          handleButtonClick={handleButtonClick}\r\n          menu=\"atividades\"\r\n        />\r\n        <MenuButton\r\n          title=\"Perfil\"\r\n          description=\"Ver o seu Perfil\"\r\n          handleButtonClick={handleButtonClick}\r\n          menu=\"profile\"\r\n        />\r\n        <button onClick={handleLogout}>Logout</button>\r\n        <button onClick={testConn}>TestConn</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}